\ProvidesPackage{styles/fau-appearence}[\filedate Package to be used in combination with
										the]

% ########################################################################################
% Options and bools
% ----------------------------------------------------------------------------------------
\newif\ifAP@theoremcustom\AP@theoremcustomfalse
\DeclareOptionX{thmcust}{\AP@theoremcustomtrue}

\def\thmstyle{thmstyle_plain}
\DeclareOptionX{thmboxing}{\def\thmstyle{#1}}


\DeclareOptionX{chapterheader}{\def\thmstyle{#1}}

\ExecuteOptionsX{thmboxing=thmstyle_plain}

\ProcessOptionsX
% ########################################################################################
% Chapter opening
% ----------------------------------------------------------------------------------------
\RedeclareSectionCommand[
    beforeskip=1sp,
    font=\huge\mdseries
]{chapter}
%-------------------------------------------------
\setkomafont{chapter}{\Large}
\setkomafont{chapterprefix}{\Huge}
%-------------------------------------------------
\renewcommand*\chapterformat{%
    \IfChapterUsesPrefixLine{
    	\textcolor{\titlebackground}{\chapappifchapterprefix{\ }}
    	\textcolor{\titlebackground}{\thechapter}
    }%
    {%
    	\textcolor{\titlecolor}{\Huge\thechapter}
    }%
}%
%
\renewcommand*\chapterlinesformat[3]{%
    \parbox[b]{\dimexpr\textwidth-1em\relax}{\raggedleft \Huge\textcolor{\titlecolor}{#3}}%
    \hfill
    \makebox[0pt][l]{#2}%
}
%
\renewcommand*{\chapterlineswithprefixformat}[3]{%
	\raggedleft #2%
	\parbox[b]{\dimexpr\textwidth\relax}{\raggedleft \textcolor{\titlecolor}{#3}}%
}%
% ########################################################################################
% Theorem and box appearence
% Here we use the tcolorbox package to style theorems and boxes and add the 
% cleveref packag for cross referencing
% ----------------------------------------------------------------------------------------
\usepackage[most]{tcolorbox}
\usepackage[nameinlink, capitalise]{cleveref}
% ----------------------------------------------------------------------------------------	
% default definition and theorem style
\tcbset{
	thmstyle_plain/.style={fonttitle=\bfseries\upshape, fontupper=\slshape,
	before skip=15pt, % space before env
	colback=white, boxrule=0pt, colframe=white, % no visible frame, no visible background
	coltitle=black, % Titlecolor
	separator sign none, % Theorem 1.2 >separator sign< (Euler).
	description delimiters parenthesis, % Theorem 1.2 >(<Euler>)<.
	terminator sign={.}, % Theorem 1.2 (Euler)>.<
	attach title to upper={~  }, % Theorem 1.2 (Euler). Text will start in this line.
	size = minimal, % spacing of the box around the theorem
	boxsep=0mm
}}
% This style is inspired by an answer given on stackexchange: 
%https://tex.stackexchange.com/questions/369430/theorems-and-definitions-boxes-numbering-should-be-chapter-wise
% ----------------------------------------------------------------------------------------	
\tcbset{thmstyle_A/.style={
    reset,
    enhanced,
    sharp corners,
    attach boxed title to top left={
      yshift=-4mm,
      yshifttext=-1mm,
      xshift=10mm
    },
    coltitle=white,
    top=1.5ex,
    colback=white,
    colframe=\titlecolor,
    fonttitle=\bfseries,
    boxed title style={
    sharp corners,
    size=small,
    colback=\titlecolor,
    colframe=\titlebackground,
  },
  terminator sign={.}
}}
% ----------------------------------------------------------------------------------------
% Kinda FAU corporate
% ----------------------------------------------------------------------------------------
\tcbset{thmstyle_B/.style={
    boxrule=0pt,
    before skip=15pt,
    enhanced,
    sharp corners,
    attach boxed title to top left={
      	xshift=0mm,
      	yshift=1mm
    },
    %minipage boxed title = \linewidth,
    coltitle=white,
    top=1.5ex,
    colback=white,
    colframe=white,
    fonttitle=\bfseries,
    boxed title style={
    	enhanced,
    	left=0mm,
    	boxrule=0pt,
    	sharp corners,
    	colback=\titlecolor,
    	colframe=white,
    	borderline west={2mm}{-2.5mm}{\titlecolor}
  },
  size=minimal,
  borderline west ={2mm}{-2.5mm}{\titlecolor},
  terminator sign={.}
}}
% ----------------------------------------------------------------------------------------
\ifAP@theoremcustom %
\else
	\newtcbtheorem[number within=chapter]{theorem}{THEOREM}{\thmstyle, label type=theorem}{thm}
	\newtcbtheorem[use counter from=theorem]{definition}{DEFINITION}{\thmstyle, label type=definition}{def}
	\newtcbtheorem[use counter from=theorem]{corollary}{COROLLARY}{\thmstyle}{cor}
	\newtcbtheorem[use counter from=theorem]{lemma}{LEMMA}{\thmstyle, label type=lemma}{lem}
	\newtcbtheorem[use counter from=theorem]{remark}{REMARK}{thmstyle_plain, label type=remark}{rem}
\fi
% ----------------------------------------------------------------------------------------
% Emphasize stuff
\newtcolorbox{emphBox}{
	enhanced,
	colback=\background,
	colframe=\titlecolor,
	sharp corners,
	size=small,
    drop shadow southeast}
% ########################################################################################

% ########################################################################################
% Enumerating styles
% ----------------------------------------------------------------------------------------	
\usepackage{enumitem}
\SetEnumitemKey{roman}
{label=\upshape(\roman*)}