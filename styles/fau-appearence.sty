\ProvidesPackage{styles/fau-appearence}[\filedate Package to be used in combination with
										the]

% ########################################################################################
% Options and bools
% ----------------------------------------------------------------------------------------
\newif\ifAP@theoremcustom\AP@theoremcustomfalse
\DeclareOptionX{thmcust}{\AP@theoremcustomtrue}

\def\thmstyle{thmstyle_plain}
\DeclareOptionX{thmboxing}{\def\thmstyle{#1}}
% ----------------------------------------------------------------------------------------
% chapter headers
\def\chapterheaderstyle{\cheadstyle@default}
\DeclareOptionX{chapterheader}{\def\chapterheaderstyle{\csname cheadstyle@#1\endcsname}}
% ----------------------------------------------------------------------------------------
% header and footer
\def\footerheaderstyle{\fheadstyle@default}
\DeclareOptionX{footerheader}{\def\footerheaderstyle{\csname fheadstyle@#1\endcsname}}
%
\ExecuteOptionsX{thmboxing=thmstyle_plain}
%
\ProcessOptionsX
% ########################################################################################
% Chapter opening
% ----------------------------------------------------------------------------------------
% the default chapter header
% ----------------------------------------------------------------------------------------
\def\cheadstyle@default{} % currently empty
% ----------------------------------------------------------------------------------------
% styleA: I dont know if I really like needs some tweaking probably. Furthermore I can't 
% really describe where im going with this or what it should represent, what is its core the 
% main idea?
% ----------------------------------------------------------------------------------------
\def\cheadstyle@styleA{
	\RedeclareSectionCommand[
	    beforeskip=1sp,
	    font=\huge\mdseries
	]{chapter}
	%-------------------------------------------------
	\setkomafont{chapter}{\Large}
	\setkomafont{chapterprefix}{\Huge}
	%-------------------------------------------------
	\renewcommand*\chapterformat{%
	    \IfChapterUsesPrefixLine{
	    	\textcolor{\colmainlight}{\chapappifchapterprefix{\ }}
	    	\textcolor{\colmainlight}{\thechapter}
	    }%
	    {%
	    	\textcolor{\colmain}{\Huge\thechapter}
	    }%
	}%
	%
	\renewcommand*\chapterlinesformat[3]{%
	    \parbox[b]{\dimexpr\textwidth-1em\relax}{\raggedleft \Huge\textcolor{\colmain}{##3}}%
	    \hfill
	    \makebox[0pt][l]{##2}%
	}
	%
	\renewcommand*{\chapterlineswithprefixformat}[3]{%
		\raggedleft ##2%
		\parbox[b]{\dimexpr\textwidth\relax}{\raggedleft \textcolor{\colmain}{##3}}%
	}%
}
% ----------------------------------------------------------------------------------------
% styleB: Inspired by #
% https://tex.stackexchange.com/questions/330243/chapter-heading-formatting-with-scrreprt
% ----------------------------------------------------------------------------------------
\def\cheadstyle@styleB{
	\newsavebox{\faumath@chapter}
	\newcommand\faumath@chapter@marker[1][0cm]{%
	  \sbox\faumath@chapter{%
	    \resizebox{!}{##1}{\setlength{\fboxsep}{0pt}%
	        \colorbox{white}{\color{black}\thechapter}}}%
	  \raisebox{\depth}{\usebox{\faumath@chapter}}%
	}
	\renewcommand*{\chapterformat}{\faumath@chapter@marker[1.4cm]}
	
	\renewcommand\chapterlinesformat[3]{%
	  \ifstr{##1}{chapter}
	  {%
	    \makebox[\textwidth][l]{%
	      \parbox[b]{\textwidth-1.6em}{\raggedchapter ##3}%
	      \makebox[0pt][l]{##2}%
	    }\\*[-.5\baselineskip]
	    \rule{\textwidth}{.4pt}%
	    \par%
	  }
	  {\@hangfrom{##2}{##3}}%
	}
}
\chapterheaderstyle % execute option
% ########################################################################################
%
%
%
%
%
%
% ########################################################################################
% Footer and header styles. It is best pratice to use the scrlayer-scrpage package here!
% ----------------------------------------------------------------------------------------
\RequirePackage{scrlayer-scrpage}
% ----------------------------------------------------------------------------------------
% The dafault footer header options
% ----------------------------------------------------------------------------------------
\def\fheadstyle@default{} % currently empty
% ----------------------------------------------------------------------------------------
% styleA: Inspired by 
%https://tex.stackexchange.com/questions/261148/how-to-produce-a-headsepline-from-the-border-of-the-page-to-the-end-of-the-chapt
% ----------------------------------------------------------------------------------------
\def\fheadstyle@styleB{
	\ohead{%
  		\Ifthispageodd{\makebox[0pt][l]{\rule[-5pt]{\paperwidth}{.4pt}}}{}%
  		\headmark%
  		\Ifthispageodd{}{\makebox[0pt][r]{\rule[-5pt]{\paperwidth}{.4pt}}}%
	}
}
% ----------------------------------------------------------------------------------------
% styleC:
% ----------------------------------------------------------------------------------------
\def\fheadstyle@styleC{

}
\footerheaderstyle % execute
% ########################################################################################
% Theorem and box appearence
% Here we use the tcolorbox package to style theorems and boxes and add the 
% cleveref packag for cross referencing
% ----------------------------------------------------------------------------------------
\usepackage[most]{tcolorbox}
\usepackage[nameinlink, capitalise]{cleveref}
% ----------------------------------------------------------------------------------------	
% default definition and theorem style
\tcbset{
	thmstyle_plain/.style={fonttitle=\bfseries\upshape, 
	fontupper=\slshape,
	breakable,
	before skip=15pt, % space before env
	colback=white, boxrule=0pt, colframe=white, % no visible frame, no visible background
	coltitle=black, % Titlecolor
	separator sign none, % Theorem 1.2 >separator sign< (Euler).
	description delimiters parenthesis, % Theorem 1.2 >(<Euler>)<.
	terminator sign={.}, % Theorem 1.2 (Euler)>.<
	attach title to upper={~  }, % Theorem 1.2 (Euler). Text will start in this line.
	size = minimal, % spacing of the box around the theorem
	boxsep=0mm
}}
% This style is inspired by an answer given on stackexchange: 
%https://tex.stackexchange.com/questions/369430/theorems-and-definitions-boxes-numbering-should-be-chapter-wise
% ----------------------------------------------------------------------------------------	
\tcbset{thmstyle_A/.style={
    reset,
    enhanced,
    breakable,
    sharp corners,
    attach boxed title to top left={
      yshift=-4mm,
      yshifttext=-1mm,
      xshift=10mm
    },
    coltitle=white,
    top=1.5ex,
    colback=white,
    colframe=\colmain,
    fonttitle=\bfseries,
    boxed title style={
    sharp corners,
    size=small,
    colback=\colmain,
    colframe=\colmainlight,
  },
  terminator sign={.}
}}
% ----------------------------------------------------------------------------------------
% Kinda FAU corporate
% ----------------------------------------------------------------------------------------
\tcbset{thmstyle_B/.style={
    boxrule=0pt,
    before skip=15pt,
    enhanced,
    sharp corners,
    attach boxed title to top left={
      	xshift=0mm,
      	yshift=1mm
    },
    %minipage boxed title = \linewidth,
    coltitle=white,
    top=1.5ex,
    colback=white,
    colframe=white,
    fonttitle=\bfseries,
    boxed title style={
    	enhanced,
    	left=0mm,
    	boxrule=0pt,
    	sharp corners,
    	colback=\colmain,
    	colframe=white,
    	borderline west={2mm}{-2.5mm}{\colmain}
  },
  size=minimal,
  borderline west ={2mm}{-2.5mm}{\colmain},
  terminator sign={.}
}}
% ----------------------------------------------------------------------------------------
\ifAP@theoremcustom %
\else
	\newtcbtheorem[number within=chapter]{theorem}{THEOREM}{\thmstyle, label type=theorem}{thm}
	\newtcbtheorem[use counter from=theorem]{definition}{DEFINITION}{\thmstyle, label type=definition}{def}
	\newtcbtheorem[use counter from=theorem]{corollary}{COROLLARY}{\thmstyle}{cor}
	\newtcbtheorem[use counter from=theorem]{lemma}{LEMMA}{\thmstyle, label type=lemma}{lem}
	\newtcbtheorem[use counter from=theorem]{remark}{REMARK}{thmstyle_plain, label type=remark}{rem}
	\newtcbtheorem[use counter from=theorem]{example}{EXAMPLE}
	{thmstyle_plain, fontupper=\upshape, label type=example}{ex}
\fi
% ----------------------------------------------------------------------------------------
% Emphasize stuff
\newtcolorbox{emphBox}{
	enhanced,
	colback=\colmainlight,
	colframe=\colmain,
	sharp corners,
	size=small,
    drop shadow southeast}
% ########################################################################################









% ########################################################################################
% Enumerating styles
% ----------------------------------------------------------------------------------------	
\usepackage{enumitem}
\SetEnumitemKey{roman}
{label=\upshape(\roman*)}