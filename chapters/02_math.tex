%++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
\chapter{Writing a math thesis with \texttt{\classname}}\label{ch:math}
This chapter is dedicated to the functionality of the template concerning its actual and 
inherent purpose: mathematics. We use material from \cite{FineProp2015} to showcase 
the possibilities.
%++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
\section{Some basics}
\paragraph{Choosing a language}
While the whole process 
of writing a thesis can be exhausting, I would recommend the latter option. It is great 
practice and will most certainly help you later on. Take me for an example, as you 
probably have already guessed, I'm not a native English speaker, thus some sentences 
are a bit clumsy. Nevertheless writing my thesis helped me improve my language skills 
to the point that I'm now able to write documents that most people worldwide understand.
%++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
\section{Formal requirements}\label{sec:reg}
Your thesis must fulfil certain formal requirements laid down by the 
\hyperlink{
https://www.fau.eu/education/advice-and-services/examination-offices/
examinations-office-faculty-of-sciences}{examinations office of the faculty of sciences}. 
However to the best of my knowledge there are only very few---compared with other 
universities---which are listed below.
\begin{itemize}
\item A title page: the layout is prescribed on the website of the examinations office, we 
employed the original source code and hence fulfil this requirement (see \cref{sec:front}). 
\item The usage of a permitted language. You will find a passage in 
examination regulations which basically states, that your thesis has to be written in 
German, except the examiner allows you to write it in English. It is also possible to 
use a different language, but this has to discussed with your examiner \emph{and} 
the examinations office.
\item A declaration: this is a short statement where you ensure that the work is original 
up to the references you explicitly mentioned\footnote{You should keep in mind that this 
is serious stuff, it is necessary to reference \emph{all} your sources properly for the 
thesis not to be interpreted as plagiarism.}. See \cref{par:decla} for more information.
\end{itemize}
More informations about the regularities for writing a thesis can be found on the official 
website of the FAU (see \cite{FAUreg}).
%++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
\section{How to structure your thesis}\label{sec:struc}
On a very course level there are three parts you should divide your thesis into. 
\begin{enumerate}
\item The front matter: the first few pages of your document should contain 
\begin{itemize}
\item a title page,
\item a table of contents. 
\end{itemize}
Additionally you can include
\begin{itemize}
\item a list of figures, 
\item a quick guide to the nomenclature, 
\item an abstract, 
\item an acknowledgement
\item a preface.
\end{itemize}
Note, that you can add the preface as a chapter, which will not be numbered. 
Never go below the chapter hierarchy in the front matter, i.e. do not use sections.
\item The main matter: the actual content of your thesis goes here.
\item The back matter: you will use this part of your thesis for 
\begin{itemize}
\item the bibliography,
\item any kind of appendices,
\item the declaration.
\end{itemize}
Additionally if you want to employ an index, it will be displayed here.
\end{enumerate}
\begin{emphBox}
\lstinline|\frontmatter|\\
\lstinline|\mainmatter|\\
\lstinline|\backmatter|
\end{emphBox}
These commands structure the document as mentioned above. You may ask yourself why it is 
necessary to use these commands at all, it should be enough for me know where which part 
starts, right? In fact, there are some small difference between the three that do not 
only affect your choice of content, but also the appearance of the pages. The command 
\lstinline|\frontmatter| sets Roman numerals for pagination, that start at $i$. As hinted 
above chapter numbering is also turned off.
The command \lstinline|\mainmatter| will restart the numbering at $1$ with Arabic numerals. 
A common but \emph{very} severe mistake would be to put page $1$ on an actual even sided page 
(see \cref{sec:pagelay,sec:printing}). The provided commands prevent such behaviour.
The command \lstinline|\backmatter| does pretty much the same as \lstinline|\frontmatter| 
but \emph{keeps} the page numbering.
\begin{example}{}{}
The typical usage of the commands above is displayed below.
\begin{lstlisting}
\begin{document}
%-----------------------------------------------------
\frontmatter
% here you will put stuff like the titlepage and the 
% table of contents
% ...
%-----------------------------------------------------
\mainmatter
% put all your main contents here
% ...
%-----------------------------------------------------
\backmatter
% stuff like biblography and appendices 
% ...
\end{document}
\end{lstlisting}	
\end{example}
%++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
\section{The front matter}\label{sec:front}
\paragraph{The titlepage} 
Note that the title page always uses German for the prescribed text. However, it is not 
really clear whether you need to translate the title, this can be a tricky question
\footnote{My Bachelor thesis was written in English and it turned out that translating 
the title would be rather weird, since it mostly consists of terms that don't have an 
appropriate German analogue.}, discuss this with your examiner!
%++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
\section{The back matter}\label{sec:back}
\paragraph{Declaration}\label{par:decla} As mentioned in \cref{sec:reg} you need to include 
a declaration where you ensure the originality of your work. This text is pre-formulated 
and can be be found on the website, see \cite{FAUreg}.
\begin{emphBox}
\lstinline|\begin{declaration}...\end{declaration}|\\
\lstinline|\declarationGer|
\end{emphBox}
The \lstinline|declaration| environment allows you to create the above mentioned 
declaration. If the option \lstinline|twoside| is active it will always be placed on a odd 
sided page, furthermore it clears a page, is \emph{not} included as a chapter and uses an 
empty page style, i.e. no footers or headers are displayed. 
As the text is pre-formulated already you can just use the command \lstinline|\declarationGer| 
that will place this text inside the environment. 
\begin{memo}{Language of formal text}
Everything in your document that has a formal character, i.e. is a stated requirement of 
\cref{sec:reg} should be written in German. This also applies to the declaration. 
It is good practice not to use anything fancy like boxes and colours for these types of 
pages, except of course it is required. 
\end{memo}
We will now showcase the effect of the command \lstinline|\declarationGer|.
\declarationGer
\paragraph{Bibliography} Brace yourself, this part is as important as difficult if you 
haven't created a bibliography before. The basic task is simple: whenever we use concepts 
and ideas that aren't our own we need to cite the source we got it from. Furthermore it 
is often simpler to redirect the reader to certain literature instead of copying it all 
to your thesis. 
%++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
\section{Page layout}\label{sec:pagelay}
In order to write anything on a sheet of paper, you will need a basic understanding 
of typography. While there exists a strong theory behind this whole topic, we will 
not dive too deep and only give minimal introduction. One should however keep in mind that 
going freestyle on your page design greatly endangers the overall quality of your document. 
So if you're not an expert on typography, it is probably best practice to just use the 
possibilities provided by \texttt{KOMA-script} 
(especially the \href{https://ctan.org/pkg/enumitem}{\texttt{typearea}} package), 
or any package where you can be sure that 
the author has a solid typographical background. Further information on this topic may be 
found in \cite{Tschichold75, Willberg99}.
\paragraph{Page vs. paper}
In order to display our thoughts and ideas we first need some kind of canvas, which we
refer to as \textit{paper}. If you're writing a, thesis the size of this 
should almost always be of a A4 or A5 format. Once you've chosen the paper size you 
need to specify the area where you want to put stuff, which is refereed to as \textit{page}.
\begin{memo}{Page vs. paper}{}
The paper does not necessarily coincide with the page.
\end{memo}
For simplicity---as hinted above---we will assume that the page is contained in the paper. 
At first it might seem odd, as to why we differentiate be paper and page, but there is a 
simple practical example that explains why it is not a good idea to think of the paper as 
a page, using the above terminology. Suppose you print 
out your document and want to assemble the sheets of paper in some kind of fixed bundle 
this usually happens via \textit{binding}. You can think of this as gluing small stripes 
of the paper together, thus greatly decreasing the visibility of anything printed 
specifically on this area. It is therefore useful not to think of the page as the whole paper.
\par
\paragraph{Arrangement of a page} There are four main instances placed on the page, namely:
\begin{itemize}
\item the body of text: most of the things you write will be put in here, it should 
be the dominant instance of the page,
\item the header: a field above the body, which will display information about the 
current chapter, section, etc.,
\item the footer: a field below the body, which usually displays the pagination,
\item two margins: two fields placed to the right and left of the body, of which one 
actually displays marginal notes and the other is placed to preserve the symmetry,
\end{itemize}
see \cref{fig:play}. 
%-----------------------------------------------------------------------------------------
\begin{figure}
\currentpage
\setlayoutscale{.4}
\printheadingsfalse
\printparametersfalse
\marginparswitchtrue
\pagedesign
\caption{The basic ingredients of our page, this graphic was created by the 
		\texttt{layouts} package.} \label{fig:play}
\end{figure}
%-----------------------------------------------------------------------------------------
Having identified the main instances of our page, we now need to 
define their positions and dimensions. In order to this in a way that is consistent with 
the basic rules of typography, we employ the package \texttt{typearea}, which is the 
natural choice for any document that bases off of \texttt{KOMA-script}. 
In most cases the presets of this package will suffice for your purpose, if you want to 
really get behind this topic we refer to the manual \cite{koma20}. Again it is important 
to note that you can pass any options of our base class \texttt{scrbook} to the class 
\texttt{\classname}. We proceed to present the most important options.
\begin{emphBox}
\lstinline[language={[LaTeX]TeX}]|\documentclass{..., oneside, ...}|\\
\lstinline[language={[LaTeX]TeX}]|\documentclass{..., twoside, ...}|\\
\lstinline[language={[LaTeX]TeX}]|\documentclass{..., twoside=semi, ...}|
\end{emphBox}
If you want the odd numbered pages to look like the even numbered pages you use the option 
\lstinline[language={[LaTeX]TeX}]|oneside|. This is usually done for documents that are only 
to be viewed in PDF format. You might argue that in a PDF viewer pages are arranged 
vertically  and thus a odd page should be same as an even one. Another case where you 
should use this option, is when you want your document to be printed onesided, i.e. only 
the front side of the paper is used for printing and the backside is left blank. Using 
this option will set the note margin to the right hand side and a \emph{equally spaced} blank 
margin to the left. If you want to print out your
document in a double paged format, i.e. both sides of the paper are used for printing it is
necessary to use the option \lstinline[language={[LaTeX]TeX}]|twoside|. Just imagine an 
opened book lying in front of you. The left page is referred to as even and the right side 
as odd. The line where the paper of these two pages meet is called \emph{spine}. 
There are some basic rules we note here:
\begin{itemize}
\item the odd and the even page are arranged axial symmetric with respect to the spine,
\item the respective outer margin is used for notes, the inner one is blank, 
\item the width of the two inner margins \emph{combined} defines the width of \emph{each} 
of the outer margins, which means that for one page alone its inner margin is half the 
size of the outer margin (see \cref{fig:twosided}).
\end{itemize}
%-----------------------------------------------------------------------------------------
\begin{figure}
\newlength{\pwlay}
\setlength{\pwlay}{0.4375\textwidth}
\drawaspread{\pwlay}{1.294}{1.618}{0.176}{1.037}{1.685}{0}
\caption{Page arrangement for a twosided document, this graphic was created with the 
		\texttt{layouts} package} \label{fig:twosided}
\end{figure}
%-----------------------------------------------------------------------------------------
If you want equally spaced margins for but keep the twosided behaviour, use the option
\lstinline[language={[LaTeX]TeX}]|twoside=semi|. Keep in mind that only one of this options 
above can be used as they are mutually exclusive.
\begin{emphBox}
\lstinline[language={[LaTeX]TeX}]|\documentclass{..., BCOR=<w>mm, ...}|
\end{emphBox}
This option is important if you want to print out your document. If you're not that familiar 
with the this process, you should read \cref{sec:printing} first. But lets assume you know 
that is important to specify an area on the paper that is not used for the page (see above 
Page vs. Paper). The option \lstinline[language={[LaTeX]TeX}]|BCOR| stands for 
\emph{B}inding \emph{COR}rection and specifies the 
width \lstinline[language={[LaTeX]TeX}]|<w>| of the strip that will disappear in the binding. 
Together with the option \lstinline[language={[LaTeX]TeX}]|oneside| this strip is always 
placed on the left hand side, with \lstinline[language={[LaTeX]TeX}]|twoside| it is placed next 
to the receptive inner margin.
\begin{emphBox}
\lstinline[language={[LaTeX]TeX}]|\documentclass{..., PDF, ...}|
\lstinline[language={[LaTeX]TeX}]|\documentclass{..., setPDF, ...}|
\end{emphBox}
The first option basically tells the class that it is to be viewed as a PDF document. 
There are no direct effects on the page layout, we will discuss this option further below.
The second one will preset the values mentioned above to the recommended setting for documents 
that are only to be viewed electronically. Note that this options also has other effects 
discussed below.
\begin{emphBox}
	\lstinline[language={[LaTeX]TeX}]|\documentclass{..., print, ...}|
\lstinline[language={[LaTeX]TeX}]|\documentclass{..., setprint, ...}|
\end{emphBox}
The analogous options for documents that you want to print out, again the second one 
will actually affect the page layout.
\begin{memo}{Printing presets}{}
The value \lstinline[language={[LaTeX]TeX}]|BCOR=15mm| is set by this option, but 
you should actually set this value manually. Either you do binding yourself 
and find the best value, or you contact the shop you want to print it at and ask 
them. 
\end{memo}
\par
\paragraph{Headers} Usually the header instance is used to display information about the 
current chapter or the name of the thesis/book so that the reader is constantly reminded 
what he is reading at the current moment. Naturally there are many possibilities to style 
this area above the body and if you want to spend some time on that there will be more 
than enough material available online.
\begin{memo}{\texttt{KOMA} and \texttt{fancyhdr} or \texttt{titlesec}}{}
The well known packages 
\href{https://ctan.org/pkg/fancyhdr}{\texttt{fancyhdr}} and
\href{https://ctan.org/pkg/titlesec}{\texttt{titlesec}} are the common choice 
when dealing with header styling. However, we are using a \texttt{KOMA-script} 
based class and should thus try to solve all our problems without \texttt{fancyhdr}. 
In fact there are some minor conflicts when using  a combination of the above, which will 
probably not affect you, but still, try to keep it \texttt{KOMA}!
\end{memo} 





\section{Theorems and Referencing}
In this section the term \textit{theorem} does not only refer to a theorem in a mathimatical 
sense, but in fact to definitions, lemmata, examples, remarks, etc., i.e. the environments 
you usually need to write a math thesis and want to follow some consistent numbering scheme. 
The package used for theorem numbering and styling is 
\href{https://www.ctan.org/pkg/tcolorbox}{\texttt{tcolorbox}}, which offers a modern and 
versatile way to create nice boxes around your theorems, while providing the full functionality 
of the more traditional \href{https://www.ctan.org/pkg/amsthm}{\texttt{amsthm}} package. 
The necessary commands for theorems are defined in the 
file \textit{styles/fau-appearence.sty}, so you do not have to worry about that (unless you want to). 
Hence, we will not fully explain how to define these commands, 
but we will showcase how to use them. The following code snippet
\begin{lstlisting}[language={[LaTeX]TeX}]
\begin{theorem}{Euler 1763}{fermat}
Here could be your result.
\end{theorem}
\end{lstlisting}
will result in the output
\begin{theorem}{Euler 1763}{fermat}
Here could be your result.
\end{theorem}
The number of the theorem is assigned automatically. The second argument defines the theorem 
addition as displayed above and the third argument defines the name of the label that is used 
to reference \cref{thm:fermat}. While \LaTeX provides the basic commands for cross-referencing, 
the use of \texttt{tcolorbox} suggests to employ 
\href{https://ctan.org/pkg/cleveref}{\texttt{cleveref}} package that enhances some 
of the basic features and is indeed very clever. The above reference was defined by the 
command
\begin{lstlisting}[language={[LaTeX]TeX}]
\cref{thm:fermat}
\end{lstlisting}
where the prefix \texttt{thm:} was defined in the \texttt{tcolorbox} settings. The following 
environment prefix combinations are provided by \textit{styles/fau-appearence.sty}: 
\begin{itemize}
\item theorem - thm,
\item definiton - def,
\item lemma - lem,
\item corollary - cor,
\item remark - rem.
\end{itemize}
The actual appearance of the theorem can be specified by the packet option \texttt{thmboxing} 
for \texttt{fau-appearence.sty}, for example
\begin{lstlisting}[language={[LaTeX]TeX}]
\usepackage[thmboxing=thmstyle_plain]{styles/fau-appearence}.
\end{lstlisting}
is used to create the document you are reading right now.\todo{showcase some of the boxes we provide}
It is currently not supported to simply add custom box styles. If you don't want to use the 
solutions provided by \texttt{fau-appearence.sty} use the \texttt{thmcust} option 
\begin{lstlisting}[language={[LaTeX]TeX}]
\usepackage[thmcust]{styles/fau-appearence}
\end{lstlisting}
which will not define any theorem environments.\par
The \texttt{cleveref} links are preset such that link labels are capitalized and carry 
the link in them. The link colours are set via the \texttt{hyperref} package and follow the 
defined colour scheme. This can be customized globally by 
\begin{lstlisting}[language={[LaTeX]TeX}]
\hypersetup{
	urlcolor=blue,
	citecolor=red,
	linkcolor=green}
\end{lstlisting}
but also locally for each link.
\section{Lists and Enumerations}
Another key feature you may want to use inside your thesis are lists and enumerations.
In \LaTeX\ you can simple use the \lstinline[language={[LaTeX]TeX}]|itemize| environment 
like this
\begin{lstbox}[]{Itemize}
\begin{itemize}
\item The first item,
\item[$\circ$] a second item with a different bullet type.
\end{itemize}
\end{lstbox}
For enumerations we use the
\href{https://ctan.org/pkg/enumitem}{\texttt{enumitem}} package, that provides vast 
options for customization. Take a look at the following definition taken from 
\cite{FineProp2015},
%-------------------------------------------------------------------------------
\begin{definition}{}{measure}
A mapping $\mu:2^{X}\rightarrow[0,\infty]$ is called a {\bfseries measure} on the nonempty
set $X$ provided
\begin{enumerate}[roman, ref=\thetcbcounter (\roman*)]
\item $\mu(\emptyset) = 0$ and
\item\label{en:subadd} if
\begin{equation*}
A\subset \bigcup_{k\in\N}A_k,
\end{equation*}
then
\begin{equation*}
\mu(A)\leq \sum_{k\in\N}\mu(A_k).
\end{equation*}
\end{enumerate}
\end{definition}
We can reference single items of an enumeration, for example concerning \cref{def:measure} 
we can add the information that \cref{en:subadd} is called subadditivity. 
The code that produces this enumeration looks like this:
\begin{lstbox}[listing only]{Enumerate}
\begin{enumerate}[roman, ref=\thetcbcounter (\roman*)]
\item ... % first item
\item\label{en:subadd} ... % second item
\end{enumerate} 
\end{lstbox}
The option \texttt{roman} is a preset from \texttt{fau-appearence.sty} but you can use 
any valid style provided by \texttt{enumitem} itself or define one yourself. 
The argument 
\lstinline[language={[LaTeX]TeX}]|ref=\thetcbcounter (\roman*)|
specifies how the label for 
the reference of this item should be displayed, where \lstinline[language={[LaTeX]TeX}]|\thetcbcounter| 
refers to the number of the theorem an enumeration was defined in, thus 
\lstinline[language={[LaTeX]TeX}]|\cref{en:subadd}| results in \cref{en:subadd} 
instead of \textcolor{\colmain}{Item (ii)}. An enumeration outside of a theorem has to use a different
argument for referencing.
\begin{lstbox}[]{Enumerate}
\begin{enumerate}[label=(K\theenumi), ref=MyEnum (K\theenumi)]
\item ... % first item
\item\label{en:second} ... % second item
\end{enumerate} 
\end{lstbox}
Here the reference look like this, \cref{en:second}.

\section{B}
\kant
\printinunitsof{pt}{\pagevalues}
\pagediagram
\section{Printing}\label{sec:printing}
As much as I didn't 
want to believe it when writing my Bachelor's thesis, the process of printing is not just 
some ... it is actual work and a crucial step towards your final goal which will affect 
the overall quality!